webpackJsonp([7],{"4RQe":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("mvHQ"),i=l.n(a),n={data:function(){return{labelPosition:"right",formLabelAlign:{},picUrl:"./static/img/default.jpg"}},methods:{submit:function(){var e=this,t=this,l=JSON.parse(i()(this.formLabelAlign));l.id=t.$route.query.id,t.$axios.post("/video/update",l).then(function(l){200==l.data.status?t.$notify({title:"成功",message:"此条信息修改成功",offset:0,duration:2e3}):e.$notify({title:"失败",message:l.data.message,offset:0,duration:2e3})}).catch(function(e){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})},upload_pic:function(){document.getElementById("func").click()},add_img1:function(e){var t=this,l=this,a=l.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i=e.target.files[0],n=new FormData;n.append("upfile",i,i.name),console.log(n.get("file"));this.$axios.post("/image/uploadImage",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){200==e.data.status&&(t.$notify({title:"成功",message:"上传成功",offset:0,duration:1500}),a.close(),l.formLabelAlign.vcover=e.data.data)})},upload_smallpic:function(){document.getElementById("func1").click()},add_img2:function(e){var t=this,l=this,a=l.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i=e.target.files[0],n=new FormData;n.append("upfile",i,i.name);this.$axios.post("/image/uploadImage",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){200==e.data.status&&(t.$notify({title:"成功",message:"上传成功",offset:0,duration:1500}),a.close(),l.formLabelAlign.vsmallImg=e.data.data)})}},mounted:function(){var e=this,t=this;t.$axios.get("/video/"+this.$route.query.id).then(function(l){200==l.data.status?t.formLabelAlign=l.data.data:e.$notify({title:"失败",message:l.data.message,offset:0,duration:2e3})}).catch(function(e){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"contain"},[l("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"func"},on:{change:e.add_img1}}),e._v(" "),l("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"func1"},on:{change:e.add_img2}}),e._v(" "),l("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.formLabelAlign}},[l("el-form-item",{attrs:{label:"标题"}},[l("el-input",{model:{value:e.formLabelAlign.vtitle,callback:function(t){e.$set(e.formLabelAlign,"vtitle",t)},expression:"formLabelAlign.vtitle"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"人气"}},[l("el-input",{model:{value:e.formLabelAlign.heat,callback:function(t){e.$set(e.formLabelAlign,"heat",t)},expression:"formLabelAlign.heat"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"课程介绍"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.formLabelAlign.vsummary,callback:function(t){e.$set(e.formLabelAlign,"vsummary",t)},expression:"formLabelAlign.vsummary"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"视频网址"}},[l("el-input",{model:{value:e.formLabelAlign.vurl,callback:function(t){e.$set(e.formLabelAlign,"vurl",t)},expression:"formLabelAlign.vurl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"视频ID"}},[l("el-input",{model:{value:e.formLabelAlign.vid,callback:function(t){e.$set(e.formLabelAlign,"vid",t)},expression:"formLabelAlign.vid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"价格费用"}},[l("el-input",{model:{value:e.formLabelAlign.vprice,callback:function(t){e.$set(e.formLabelAlign,"vprice",t)},expression:"formLabelAlign.vprice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"积分费用"}},[l("el-input",{model:{value:e.formLabelAlign.vintegral,callback:function(t){e.$set(e.formLabelAlign,"vintegral",t)},expression:"formLabelAlign.vintegral"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"原价价格"}},[l("el-input",{model:{value:e.formLabelAlign.oldPrice,callback:function(t){e.$set(e.formLabelAlign,"oldPrice",t)},expression:"formLabelAlign.oldPrice"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"原价积分"}},[l("el-input",{model:{value:e.formLabelAlign.oldIntegral,callback:function(t){e.$set(e.formLabelAlign,"oldIntegral",t)},expression:"formLabelAlign.oldIntegral"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"已有购买量"}},[l("el-input",{model:{value:e.formLabelAlign.buys,callback:function(t){e.$set(e.formLabelAlign,"buys",t)},expression:"formLabelAlign.buys"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"封面图片"}},[l("img",{staticStyle:{width:"400px",height:"300px"},attrs:{src:e.formLabelAlign.vcover,alt:""}})]),e._v(" "),l("el-form-item",{attrs:{label:"缩略图片"}},[l("img",{staticStyle:{width:"400px",height:"300px"},attrs:{src:e.formLabelAlign.vsmallImg,alt:""}})])],1),e._v(" "),l("el-button",{staticStyle:{margin:"0 0 10px 20px"},attrs:{type:"primary"},on:{click:function(t){e.upload_pic()}}},[e._v("上传封面图片")]),e._v(" "),l("el-button",{staticStyle:{margin:"0 0 10px 20px"},attrs:{type:"primary"},on:{click:function(t){e.upload_smallpic()}}},[e._v("上传缩略图片")]),e._v(" "),l("el-button",{staticStyle:{margin:"0 0 10px 20px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)},staticRenderFns:[]};var r=l("VU/8")(n,o,!1,function(e){l("FUL8")},"data-v-16c2aa9e",null);t.default=r.exports},FUL8:function(e,t){}});