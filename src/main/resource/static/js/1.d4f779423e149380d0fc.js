webpackJsonp([1],{"0d94":function(t,e){},BO1k:function(t,e,i){t.exports={default:i("fxRn"),__esModule:!0}},fxRn:function(t,e,i){i("+tPU"),i("zQR9"),t.exports=i("g8Ux")},g8Ux:function(t,e,i){var a=i("77Pl"),o=i("3fs2");t.exports=i("FeBl").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},iLJR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("BO1k"),o=i.n(a),d={data:function(){return{createFlag:!1,form:{name:"",price:"",standard:"",description:""},uploadUrl:"https://www.njhaoji.com/product/product_image/",uploaded:[],uploadedId:[],product_id:"",fullscreenLoading:!1,picUrl:"./static/img/default.jpg"}},methods:{deletePic:function(t){var e=this;this.$axios.post("image/delete/"+this.uploadedId[t]+"/",{}).then(function(i){200==i.data.status?(e.$notify({title:"成功",message:"删除成功",offset:0,duration:1500}),e.uploaded.splice(t,1),e.uploadedId.splice(t,1)):e.$notify({title:"错误",message:i.data.msg,offset:0,duration:1500})}).catch(function(t){this.$notify({title:"错误",message:"服务器繁忙",offset:0,duration:1500})})},cancel:function(){this.$router.go(-1)},continueSubmit:function(){for(var t in this.createFlag=!1,this.form)this.form[t]="";this.uploaded=[],this.product_id=""},upload_pic:function(){6!=this.uploaded.length?document.getElementById("func").click():this.$notify({title:"错误",message:"最多支持6张图片",offset:0,duration:1500})},add_img1:function(t){var e=this,i=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a=t.target.files[0],o=new FormData;o.append("carousel",a,a.name),console.log(o.get("file"));e.$axios.post("image/uploadCarousel",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(200==t.data.status){var a=window.URL.createObjectURL(document.getElementById("func").files[0]);e.uploaded.push(a),e.uploadedId.push(t.data.data.imgId);for(var o=document.getElementsByTagName("img"),d=0;d<o.length;d++){var n=o[0].width;o[d].style.height=n/1.3+"px"}i.close(),e.$notify({title:"成功",message:"上传成功",offset:0,duration:1500}),document.getElementById("func").value=""}else e.$notify({title:"错误",message:t.data.msg,offset:0,duration:1500}),i.close()}).catch(function(t){alert("上传图片出错！"),i.close()})}},mounted:function(){var t=this;this.$axios.post("image/getCarousels").then(function(e){if(200==e.data.status){var i=!0,a=!1,d=void 0;try{for(var n,l=o()(e.data.data);!(i=(n=l.next()).done);i=!0){var c=n.value;t.uploaded.push(c.imgUrl),t.uploadedId.push(c.imgId)}}catch(t){a=!0,d=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw d}}for(var s=document.getElementsByTagName("img"),u=0;u<s.length;u++){var r=s[0].width;s[u].style.height=r/1.3+"px"}}})}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contain"},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"func"},on:{change:t.add_img1}}),t._v(" "),i("div",{staticClass:"upload"},[i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[0]?t.uploaded[0]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[0]?i("div",{on:{click:function(e){t.deletePic(0)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])]),t._v(" "),i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[1]?t.uploaded[1]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[1]?i("div",{on:{click:function(e){t.deletePic(1)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])]),t._v(" "),i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[2]?t.uploaded[2]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[2]?i("div",{on:{click:function(e){t.deletePic(2)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])]),t._v(" "),i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[3]?t.uploaded[3]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[3]?i("div",{on:{click:function(e){t.deletePic(3)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])]),t._v(" "),i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[4]?t.uploaded[4]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[4]?i("div",{on:{click:function(e){t.deletePic(4)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])]),t._v(" "),i("div",{staticClass:"upload_items"},[i("img",{attrs:{src:t.uploaded[5]?t.uploaded[5]:t.picUrl,alt:""}}),t._v(" "),t.uploaded[5]?i("div",{on:{click:function(e){t.deletePic(5)}}},[t._v("删除")]):t._e(),t._v(" "),i("p",{on:{click:function(e){t.upload_pic()}}},[t._v("上传图片")])])])])},staticRenderFns:[]};var l=i("VU/8")(d,n,!1,function(t){i("0d94")},"data-v-5ca07410",null);e.default=l.exports}});